[mysqld]
max_allowed_packet = 64M

# 连接相关配置
wait_timeout = 7200                    # 连接等待超时时间（2小时）
interactive_timeout = 7200            # 交互式连接超时时间（2小时）
max_connections = 1000                 # 最大连接数
connect_timeout = 60                   # 连接建立超时时间

# 缓冲区配置
innodb_buffer_pool_size = 256M         # InnoDB缓冲池大小
key_buffer_size = 64M                  # MyISAM键缓冲区大小
sort_buffer_size = 4M                  # 排序缓冲区大小
read_buffer_size = 2M                  # 读缓冲区大小
read_rnd_buffer_size = 8M             # 随机读缓冲区大小

# 字符集配置
character-set-server = utf8mb4
collation-server = utf8mb4_unicode_ci

# 日志配置
slow_query_log = 1                     # 启用慢查询日志
long_query_time = 2                    # 慢查询阈值（秒）

# 其他优化
innodb_flush_log_at_trx_commit = 2     # 事务日志刷新策略
innodb_log_buffer_size = 16M           # InnoDB日志缓冲区大小